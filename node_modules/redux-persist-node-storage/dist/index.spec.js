"use strict";
var async_1 = require('async');
var test = require('tape');
var index_1 = require('./index');
test('should implement the interface', function (test) {
    var adaptor = new index_1.AsyncNodeStorage('../tmp');
    async_1.series([
        function (next) { return adaptor.setItem('key', 'value', next); },
        function (next) { return adaptor.getItem('key', function (_, value) {
            test.equal(value, 'value');
            next();
        }); },
        function (next) { return adaptor.getAllKeys(function (_, keys) {
            test.deepEqual(keys, ['key']);
            next();
        }); },
        function (next) { return adaptor.removeItem('key', next); },
        function (next) { return adaptor.getAllKeys(function (_, keys) {
            test.deepEqual(keys, []);
            next();
        }); }
    ], test.end);
});
